<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover" />
    <title>Prime Camp | GestÃ£o de Processos</title>
    <meta name="facebook-domain-verification" content="56xmy34ysmjgredvvtjndwfg45n98h" />
    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    
    <!-- iOS Specific -->
    <meta name="apple-touch-fullscreen" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Prime Camp" />
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Ãcone da aba -->
    <link rel="icon" href="https://primecamp.com.br/wp-content/uploads/2023/12/Logo-vermelho1-1024x327.webp" type="image/png" />

    <!-- Metadados padrÃ£o -->
    <meta name="description" content="Projeto Prime Camp" />
    <meta name="author" content="Prime Camp" />

    <!-- Open Graph (para redes sociais) -->
    <meta property="og:title" content="Prime Camp" />
    <meta property="og:description" content="Gestao de Processos" />
    <meta property="og:image" content="https://primecamp.com.br/wp-content/uploads/2024/08/Magna-Pagina-Elemento-1.png" />

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lojaprimecamp" />
    <meta name="twitter:image" content="https://primecamp.com.br/wp-content/uploads/2024/08/Magna-Pagina-Elemento-1.png" />

    <!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '1919241881977847');
fbq('track', 'PageView');
</script>
<!-- End Meta Pixel Code -->
    
    <!-- ðŸš«ðŸš«ðŸš« INTERCEPTAR SUPABASE ANTES DE QUALQUER CÃ“DIGO ðŸš«ðŸš«ðŸš« -->
    <script>
      (function() {
        // ðŸ§¹ LIMPAR TODOS OS TOKENS DO SUPABASE IMEDIATAMENTE
        try {
          const keysToRemove = [];
          for (let i = 0; i < localStorage.length; i++) {
            const key = localStorage.key(i);
            if (key && (key.includes('supabase') || key.includes('sb-') || key.includes('gogxicjaqpqbhsfzutij'))) {
              keysToRemove.push(key);
            }
          }
          keysToRemove.forEach(key => {
            localStorage.removeItem(key);
          });
        } catch (e) {
          console.warn('Erro ao limpar tokens Supabase:', e);
        }
        
        // Interceptar fetch ANTES de qualquer cÃ³digo
        const originalFetch = window.fetch;
        window.fetch = function(...args) {
          const url = typeof args[0] === 'string' ? args[0] : (args[0]?.url || args[0]?.href || '');
          if (url && (url.includes('supabase.co') || url.includes('gogxicjaqpqbhsfzutij'))) {
            console.error('ðŸš«ðŸš«ðŸš« REQUISIÃ‡ÃƒO SUPABASE BLOQUEADA via fetch:', url);
            return Promise.reject(new Error('ðŸš« Supabase foi completamente desabilitado. Use PostgreSQL API em api.primecamp.cloud'));
          }
          return originalFetch.apply(this, args);
        };
        
        // Interceptar XMLHttpRequest ANTES de qualquer cÃ³digo
        const originalXHROpen = XMLHttpRequest.prototype.open;
        XMLHttpRequest.prototype.open = function(method, url, ...rest) {
          const urlString = typeof url === 'string' ? url : url.toString();
          this._url = urlString;
          if (urlString && (urlString.includes('supabase.co') || urlString.includes('gogxicjaqpqbhsfzutij'))) {
            console.error('ðŸš«ðŸš«ðŸš« REQUISIÃ‡ÃƒO SUPABASE BLOQUEADA via XMLHttpRequest:', urlString);
            throw new Error('ðŸš« Supabase foi completamente desabilitado. Use PostgreSQL API em api.primecamp.cloud');
          }
          return originalXHROpen.apply(this, [method, url, ...rest]);
        };
        
        // Interceptar XMLHttpRequest.send tambÃ©m
        const originalXHRSend = XMLHttpRequest.prototype.send;
        XMLHttpRequest.prototype.send = function(...args) {
          if (this._url && (this._url.includes('supabase.co') || this._url.includes('gogxicjaqpqbhsfzutij'))) {
            console.error('ðŸš«ðŸš«ðŸš« REQUISIÃ‡ÃƒO SUPABASE BLOQUEADA via XMLHttpRequest.send:', this._url);
            throw new Error('ðŸš« Supabase foi completamente desabilitado. Use PostgreSQL API em api.primecamp.cloud');
          }
          return originalXHRSend.apply(this, args);
        };
        
        // Interceptar WebSocket ANTES de qualquer cÃ³digo
        const originalWebSocket = window.WebSocket;
        window.WebSocket = function(url, protocols) {
          const urlString = typeof url === 'string' ? url : url.toString();
          if (urlString && (urlString.includes('supabase.co') || urlString.includes('gogxicjaqpqbhsfzutij'))) {
            console.error('ðŸš«ðŸš«ðŸš« WEBSOCKET SUPABASE BLOQUEADO:', urlString);
            throw new Error('ðŸš« Supabase WebSocket foi completamente desabilitado. Use PostgreSQL API em api.primecamp.cloud');
          }
          return new originalWebSocket(url, protocols);
        };
        
        // InterceptaÃ§Ã£o Supabase ativada silenciosamente
      })();
    </script>
  </head>

  <body>
    <!-- Meta Pixel NoScript -->
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=1919241881977847&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel NoScript -->
    
    <div id="root"></div>

    <!-- ðŸ§¹ FORÃ‡AR LIMPEZA DE CACHE E SERVICE WORKERS -->
    <script>
      (function() {
        // Desregistrar TODOS os Service Workers
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.getRegistrations().then(function(registrations) {
            for(let registration of registrations) {
              registration.unregister().then(function(success) {
                if (success) {
                  console.log('âœ… Service Worker desregistrado:', registration.scope);
                }
              });
            }
          });
          
          // Limpar cache de Service Workers
          if ('caches' in window) {
            caches.keys().then(function(names) {
              for (let name of names) {
                caches.delete(name).then(function(success) {
                  if (success) {
                    console.log('âœ… Cache deletado:', name);
                  }
                });
              }
            });
          }
        }
        
        // Limpar localStorage e sessionStorage de versÃµes antigas
        try {
          const version = 'v' + Date.now();
          localStorage.setItem('app_version', version);
          sessionStorage.setItem('app_version', version);
          console.log('âœ… VersÃ£o da aplicaÃ§Ã£o atualizada:', version);
        } catch (e) {
          console.warn('Erro ao atualizar versÃ£o:', e);
        }
      })();
    </script>

    <!-- Script principal do Vite/React -->
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
